---
title: "è®¾è®¡æ¨¡å¼"
date: 2024-06-10T02:10:00+08:00
summary: 'ä¸æ­¢ä»£ç '
categories: ['Design-Pattern']
draft: true
images: ['/img/DesignPattern/gangOfFour.gif', '/img/DesignPattern/gangOfFour.png']
---
{{< notice notice-warning >}}
å°å¿ƒè¿‡åº¦è®¾è®¡ï¼Œè°¨æ…ä½¿ç”¨è®¾è®¡æ¨¡å¼ï¼
{{< /notice >}}
# 1. æ¨¡æ¿æ–¹æ³•
å¯¹äºæ‹¥æœ‰å›ºå®šæµç¨‹çš„ä»»åŠ¡ï¼Œæ¡†æ¶è®¾è®¡è€…å¸Œæœ›èƒ½å¤Ÿç”±ä½¿ç”¨è€…æ¥è´Ÿè´£å…¶ä¸­æŸäº›å­æµç¨‹çš„ç¼–å†™ã€‚ä¾‹å¦‚ï¼Œå¯¹äºä»»åŠ¡`1->2->3->4->5`ï¼Œå‡è®¾`2å’Œ4`æ˜¯å¯è¢«æ›¿æ¢çš„ï¼Œè¿™æ—¶æœ‰ä¸¤ç§æ–¹æ¡ˆï¼š
1. ç”±ä½¿ç”¨è€…è´Ÿè´£é‡å†™`2å’Œ4`ï¼Œå†ç”±å…¶å»è°ƒç”¨å…¶ä»–æ­¥éª¤ï¼Œä½†è¿™æ ·åšæ— ç–‘ä¼šç»™ä½¿ç”¨è€…å¢åŠ ä¸å¿…è¦çš„å¿ƒæ™ºè´Ÿæ‹…ï¼›
2. å€Ÿç”¨å¤šæ€æœºåˆ¶ï¼Œé‡å†™`2å’Œ4`ï¼Œç”±æ¡†æ¶è®¾è®¡è€…å›ºå®šæµç¨‹ï¼Œè€Œä½¿ç”¨è€…åªéœ€è¦`é‡å†™å¯æ‰©å±•çš„å­æµç¨‹`ã€‚

ä»£ç ç¤ºä¾‹ï¼š
1. æ¡†æ¶ï¼š
```c++
//ç¨‹åºåº“å¼€å‘äººå‘˜
class Library{
public:
    //ç¨³å®š template method
    void Run(){
        Step1();
        if (Step2()) { //æ”¯æŒå˜åŒ– ==> è™šå‡½æ•°çš„å¤šæ€è°ƒç”¨
            Step3(); 
        }
        for (int i = 0; i < 4; i++){
            Step4(); //æ”¯æŒå˜åŒ– ==> è™šå‡½æ•°çš„å¤šæ€è°ƒç”¨
        }
        Step5();

    }
    virtual ~Library(){ }

protected:
    void Step1() { //ç¨³å®š
        //.....
    }
    void Step3() { //ç¨³å®š
        //.....
    }
    void Step5() { //ç¨³å®š
        //.....
    }
    // å¯¹äºå˜åŒ–éƒ¨åˆ†å£°æ˜ä¸ºè™šå‡½æ•°ï¼Œç”±ä½¿ç”¨è€…é‡å†™
    virtual bool Step2() = 0; //å˜åŒ–
    virtual void Step4() =0;  //å˜åŒ–
};
```
2. åº”ç”¨
```c++
//åº”ç”¨ç¨‹åºå¼€å‘äººå‘˜
class Application : public Library {
protected:
    virtual bool Step2(){
        //... å­ç±»é‡å†™å®ç°
    }

    virtual void Step4() {
        //... å­ç±»é‡å†™å®ç°
    }
};

int main() {
    Library* pLib=new Application();
    lib->Run();

    delete pLib;
}
```
æ¨¡æ¿æ–¹æ³•å¾ˆå¥½ï¼Œèƒ½å¤Ÿåœ¨ä¸æ”¹å˜ç®—æ³•ç»“æ„çš„æƒ…å†µä¸‹é‡æ–°å®šä¹‰ç®—æ³•çš„æŸäº›æ­¥éª¤ï¼Œä½†å…¶ç¼ºç‚¹ä¹Ÿä¸å¯å¿½è§†ï¼š
1. æ¯ä¸€å¥—éƒ½éœ€è¦ä¸€ä¸ªæŠ½è±¡åŸºç±»å’Œä¼—å¤šå…·ä½“å­ç±»ï¼Œéš¾å…å¯¼è‡´ä»£ç å†—ä½™ï¼›
2. ä»å­æ­¥éª¤çš„æ–¹é¢è€ƒè™‘çš„ç¡®æ˜¯èƒ½å¤ç”¨ï¼Œä½†åè¿‡æ¥æƒ³ï¼Œå›ºå®šçš„æµç¨‹ä¹Ÿæ˜¯é™åˆ¶äº†å­ç±»çš„çµæ´»æ€§ï¼›
3. éš¾è°ƒè¯•ï¼Œç”¨äº†ç»§æ‰¿å’Œå¤šæ€å°±éš¾è°ƒï¼Œçœ‹éƒ½éš¾çœ‹ï¼Œå¦ˆçš„ğŸ˜­ã€‚
# 2. å•ä¾‹æ¨¡å¼

# 3. å·¥å‚æ¨¡å¼

# 3. TODO


# å‚è€ƒ
1. [æå»ºå¿ -è®¾è®¡æ¨¡å¼](https://www.youtube.com/watch?v=6f7ykipOmfE&list=PLE0JTxLz7jTR2e8nAyV9vPIqH5NNxlI3N&ab_channel=PengjieLi)
2. [è¿‡åº¦è®¾è®¡](https://developer.aliyun.com/article/1092076)